<div class="col-md-6" th:fragment="nuevoHecho">
    <div class="card p-4">
        <h3>Nuevo hecho</h3>

        <form th:action="@{/hechos}" th:object="${nuevoHecho}" method="post" enctype="multipart/form-data">

        <!-- Título -->
            <div class="mb-3">
                <label for="c-titulo" class="form-label">Título *</label>
                <input id="c-titulo" th:field="*{titulo}" class="form-control" required placeholder="Descripción breve" />
            </div>

            <!-- Descripción -->
            <div class="mb-3">
                <label for="c-desc" class="form-label">Descripción *</label>
                <textarea id="c-desc" th:field="*{descripcionCompleta}" class="form-control" rows="3" required
                          placeholder="Detalles, contexto y observaciones"></textarea>
            </div>

            <div class="row">
                <!-- Categoría -->
                <div class="col-md-6 mb-3">
                    <label for="c-cat" class="form-label">Categoría *</label>
                    <select id="c-cat" th:field="*{categoriaId}" class="form-select" required>
                        <option value="">Seleccione</option>
                        <option th:value="1">Transporte</option>
                        <option th:value="2">Seguridad</option>
                        <option th:value="3">Cultura</option>
                    </select>
                </div>

                <!-- Fecha -->
                <div class="col-md-6 mb-3">
                    <label for="c-fecha" class="form-label">Fecha *</label>
                    <input id="c-fecha" type="date" th:field="*{fecha}" class="form-control" required />
                </div>
            </div>

            <div class="col-md-6 mb-3">
                <label for="tipo-ubicacion" class="form-label">Tipo de ubicación *</label>
                <select id="tipo-ubicacion" name="tipoUbicacion" class="form-select" required>
                    <option value="">Seleccione</option>
                    <option value="direccion">Dirección</option>
                    <option value="coordenadas">Coordenadas (Lat, Lng)</option>
                </select>
            </div>

            <!-- Campo de dirección -->
            <div id="campo-direccion" class="col-md-6 mb-3 d-block">
                <label for="c-ubic" class="form-label">Dirección *</label>
                <input id="c-ubic"
                       th:field="*{ubicacionTexto}"
                       placeholder="Ej: Av. Corrientes 1234, Buenos Aires"
                       class="form-control" />
            </div>

            <!-- Campos de coordenadas -->
            <div id="campo-coordenadas" class="row d-none">
                <div class="col-md-6 mb-3">
                    <label for="c-lat" class="form-label">Latitud *</label>
                    <input id="c-lat" type="number" step="any" th:field="*{latitud}" class="form-control" placeholder="-34.6037" />
                </div>
                <div class="col-md-6 mb-3">
                    <label for="c-long" class="form-label">Longitud *</label>
                    <input id="c-long" type="number" step="any" th:field="*{longitud}" class="form-control" placeholder="-58.3816" />
                </div>
            </div> <!-- <- cerrar div de coordenadas aquí -->

            <!-- Multimedia -->
            <div class="col-md-6 mb-3">
                <label for="c-media" class="form-label">Multimedia</label>
                <input id="c-media" type="file" th:field="*{multimedia}" class="form-control" accept="image/*,video/*" />
                <div class="form-text">
                    Se aceptan imágenes y videos. Tamaño máximo: 25MB.
                </div>
            </div>

            <div class="d-flex gap-2">
                <button type="submit" class="btn btn-primary">Enviar</button>
                <button type="reset" class="btn btn-outline-secondary">Limpiar</button>
            </div>
        </form>
    </div>
</div>

